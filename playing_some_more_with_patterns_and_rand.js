setcps(30/60)

const leadPattern = n(irand(8))
  .struct("x*2 x*2 x*4 x*3")
  .scale("G:minor")
  .sound("gm_trumpet:4")
  .distort("1:.7")
  .degradeBy(.3)
  .room(1,1)
  .vib("20:.1")
  .gain(0.5)
  .lpf(500)

$: seq(leadPattern.ribbon(563, 1),
       leadPattern.ribbon(850, 1)
).slow(2).punchcard()

$: s("sbd!4")
  .degradeBy(.3)
  .ribbon(260, 1)
  .punchcard()

$: s("hh")
  .bank("tr909")
  .beat("9, 13, 14, 15", 16)
  .gain(0.1)
  .punchcard()

$: s("bd")
  .beat("0, 7, 10, 13, 14, 15", 16)
  .bank("tr909")
  .gain(0.2)
  .punchcard()

$: note("<26 24 29>")
  .sound("808")
  .shape(.7)
  .beat("0", 1)
  .drive(0.25)
  .lp(350)
  .mul(1 + lfo(0.50) * 0.50)
  .decay(2)
  .gain(1)
  ._scope()
